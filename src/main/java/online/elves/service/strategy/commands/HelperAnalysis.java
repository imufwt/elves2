package online.elves.service.strategy.commands;

import lombok.extern.slf4j.Slf4j;
import online.elves.config.Const;
import online.elves.enums.CrLevel;
import online.elves.service.strategy.CommandAnalysis;
import online.elves.third.fish.Fish;
import online.elves.utils.RedisUtil;
import org.apache.commons.lang3.StringUtils;
import org.springframework.stereotype.Component;

import java.util.Arrays;
import java.util.List;

/**
 * å‘½è¿å‘½ä»¤åˆ†æ
 */
@Slf4j
@Component
public class HelperAnalysis extends CommandAnalysis {

    /**
     * å…³é”®å­—
     */
    private static final List<String> keys = Arrays.asList("å¸®åŠ©", "èœå•");

    @Override
    public boolean check(String commonKey) {
        return keys.contains(commonKey);
    }

    @Override
    public void process(String commandKey, String commandDesc, String userName) {
        // è‡ªå®šä¹‰å‘½ä»¤
        String cmdSet = RedisUtil.get(Const.CMD_USER_SET + userName).replaceAll(",", " æˆ– ");
        if (StringUtils.isBlank(cmdSet)){
            cmdSet = "å‡Œ";
        }
        Fish.sendMsg("äº²çˆ±çš„ @" + userName + " " + CrLevel.getCrLvName(userName) + " " + " : ä½ å¥½å‘€~\n" +
                "<details>" +
                "<summary> å¸®åŠ©(èœå•) ğŸ‘‡ğŸ» ç‚¹å¼€æŸ¥çœ‹</summary>\n\n" +
                "> æŒ‡ä»¤åå¯è·Ÿ `ç©ºæ ¼` + æ—¥æœŸ(yyyy-MM-dd) æŸ¥è¯¢æŒ‡å®šæ—¥æœŸæ’è¡Œ, å¦åˆ™é»˜è®¤å½“æ—¥\n\n" +
                "> Since ~~2022-09-06~~ ç²¾çµé‡æ„, æ€»æ¦œä¸å˜. æ—¥æ¦œ Since 2022-10-22 \n\n" +
                "> Since 2023-03-25 ç²¾çµ2.0 ä¸€åˆ‡å¾…ä»å¤´, é‡æ•´æ—§æ²³å±±\n\n" +
                "\n" +

                "* `" + cmdSet + "  2` æˆ– `" + cmdSet + "  å°å†°å¬å”¤å¸ˆ` ç»Ÿè®¡ **å¬å”¤å°å†°** å‰ 10å\n" +
                "* `" + cmdSet + "  3` æˆ– `" + cmdSet + "  ç‚¹æ­Œå¤§ç‹` ç»Ÿè®¡ **ç‚¹æ­Œ** å‰ 10å\n" +
                "* `" + cmdSet + "  4` æˆ– `" + cmdSet + "  æœ—è¯»å°ç©ç«¥` ç»Ÿè®¡ **æœ—è¯µ** å‰ 10å\n" +
                "* `" + cmdSet + "  5` æˆ– `" + cmdSet + "  å›¾ç‹` ç»Ÿè®¡ **å‘å›¾** å‰ 10å\n" +
                "* `" + cmdSet + "  6` æˆ– `" + cmdSet + "  äº’åŠ¨æŒ‡æ•°` ç»Ÿè®¡ **ç²¾çµäº’åŠ¨** å‰ 10å\n" +
                "* `" + cmdSet + "  7` æˆ– `" + cmdSet + "  å¼¹å¹•å·¨å¤´` ç»Ÿè®¡ **å‘é€å¼¹å¹•** å‰ 10å\n" +

                "* `" + cmdSet + "  10` æˆ– `" + cmdSet + "  å…‘æ¢æ—¥æ¦œ` ç»Ÿè®¡ **å…‘æ¢é±¼ç¿…ç§¯åˆ†æ¶ˆè€—æ—¥æ¦œ** å‰ 10å\n" +
                "* `" + cmdSet + "  11` æˆ– `" + cmdSet + "  å…‘æ¢å‘¨æ¦œ` ç»Ÿè®¡ **å…‘æ¢é±¼ç¿…ç§¯åˆ†æ¶ˆè€—å‘¨æ¦œ** å‰ 10å\n" +
                "* `" + cmdSet + "  12` æˆ– `" + cmdSet + "  å…‘æ¢æœˆæ¦œ` ç»Ÿè®¡ **å…‘æ¢é±¼ç¿…ç§¯åˆ†æ¶ˆè€—æœˆæ¦œ** å‰ 10å\n" +
                "* `" + cmdSet + "  13` æˆ– `" + cmdSet + "  å…‘æ¢å¹´æ¦œ` ç»Ÿè®¡ **å…‘æ¢é±¼ç¿…ç§¯åˆ†æ¶ˆè€—å¹´æ¦œ** å‰ 10å\n" +
                "* `" + cmdSet + "  14` æˆ– `" + cmdSet + "  å…‘æ¢æ€»æ¦œ` ç»Ÿè®¡ **å…‘æ¢é±¼ç¿…ç§¯åˆ†æ¶ˆè€—æ€»æ¦œ** å‰ 10å\n" +

                "* `" + cmdSet + "  20` æˆ– `" + cmdSet + "  è¯ç—¨æ—¥æ¦œ` ç»Ÿè®¡ **å‘è¨€æ—¥æ¦œ** å‰ 10å\n" +
                "* `" + cmdSet + "  21` æˆ– `" + cmdSet + "  è¯ç—¨å‘¨æ¦œ` ç»Ÿè®¡ **å‘è¨€å‘¨æ¦œ** å‰ 10å\n" +
                "* `" + cmdSet + "  22` æˆ– `" + cmdSet + "  è¯ç—¨æœˆæ¦œ` ç»Ÿè®¡ **å‘è¨€æœˆæ¦œ** å‰ 10å\n" +
                "* `" + cmdSet + "  23` æˆ– `" + cmdSet + "  è¯ç—¨å¹´æ¦œ` ç»Ÿè®¡ **å‘è¨€å¹´æ¦œ** å‰ 10å\n" +
                "* `" + cmdSet + "  24` æˆ– `" + cmdSet + "  è¯ç—¨æ€»æ¦œ` ç»Ÿè®¡ **å‘è¨€æ€»æ¦œ** å‰ 10å\n" +

                "* `" + cmdSet + "  25` æˆ– `" + cmdSet + "  æ•£è´¢æ—¥æ¦œ` ç»Ÿè®¡ **å‘çº¢åŒ…é‡‘é¢æ—¥æ¦œ** å‰ 10å\n" +
                "* `" + cmdSet + "  26` æˆ– `" + cmdSet + "  æ•£è´¢å‘¨æ¦œ` ç»Ÿè®¡ **å‘çº¢åŒ…é‡‘é¢å‘¨æ¦œ** å‰ 10å\n" +
                "* `" + cmdSet + "  27` æˆ– `" + cmdSet + "  æ•£è´¢æœˆæ¦œ` ç»Ÿè®¡ **å‘çº¢åŒ…é‡‘é¢æœˆæ¦œ** å‰ 10å\n" +
                "* `" + cmdSet + "  28` æˆ– `" + cmdSet + "  æ•£è´¢å¹´æ¦œ` ç»Ÿè®¡ **å‘çº¢åŒ…é‡‘é¢å¹´æ¦œ** å‰ 10å\n" +
                "* `" + cmdSet + "  29` æˆ– `" + cmdSet + "  æ•£è´¢æ€»æ¦œ` ç»Ÿè®¡ **å‘çº¢åŒ…é‡‘é¢æ€»æ¦œ** å‰ 10å\n" +


                "* `" + cmdSet + "  30` æˆ– `" + cmdSet + "  èµŒåœ£æ—¥æ¦œ` ç»Ÿè®¡ **çŒœæ‹³çº¢åŒ…èµ¢ç§¯åˆ†æ—¥æ¦œ** å‰ 10å\n" +
                "* `" + cmdSet + "  31` æˆ– `" + cmdSet + "  èµŒåœ£å‘¨æ¦œ` ç»Ÿè®¡ **çŒœæ‹³çº¢åŒ…èµ¢ç§¯åˆ†å‘¨æ¦œ** å‰ 10å\n" +
                "* `" + cmdSet + "  32` æˆ– `" + cmdSet + "  èµŒåœ£æœˆæ¦œ` ç»Ÿè®¡ **çŒœæ‹³çº¢åŒ…èµ¢ç§¯åˆ†æœˆæ¦œ** å‰ 10å\n" +
                "* `" + cmdSet + "  33` æˆ– `" + cmdSet + "  èµŒåœ£å¹´æ¦œ` ç»Ÿè®¡ **çŒœæ‹³çº¢åŒ…èµ¢ç§¯åˆ†å¹´æ¦œ** å‰ 10å\n" +
                "* `" + cmdSet + "  34` æˆ– `" + cmdSet + "  èµŒåœ£æ€»æ¦œ` ç»Ÿè®¡ **çŒœæ‹³çº¢åŒ…èµ¢ç§¯åˆ†æ€»æ¦œ** å‰ 10å\n" +


                "* `" + cmdSet + "  35` æˆ– `" + cmdSet + "  èµŒç‹—æ—¥æ¦œ` ç»Ÿè®¡ **çŒœæ‹³çº¢åŒ…è¾“ç§¯åˆ†æ—¥æ¦œ** å‰ 10å\n" +
                "* `" + cmdSet + "  36` æˆ– `" + cmdSet + "  èµŒç‹—å‘¨æ¦œ` ç»Ÿè®¡ **çŒœæ‹³çº¢åŒ…è¾“ç§¯åˆ†å‘¨æ¦œ** å‰ 10å\n" +
                "* `" + cmdSet + "  37` æˆ– `" + cmdSet + "  èµŒç‹—æœˆæ¦œ` ç»Ÿè®¡ **çŒœæ‹³çº¢åŒ…è¾“ç§¯åˆ†æœˆæ¦œ** å‰ 10å\n" +
                "* `" + cmdSet + "  38` æˆ– `" + cmdSet + "  èµŒç‹—å¹´æ¦œ` ç»Ÿè®¡ **çŒœæ‹³çº¢åŒ…è¾“ç§¯åˆ†å¹´æ¦œ** å‰ 10å\n" +
                "* `" + cmdSet + "  39` æˆ– `" + cmdSet + "  èµŒç‹—æ€»æ¦œ` ç»Ÿè®¡ **çŒœæ‹³çº¢åŒ…è¾“ç§¯åˆ†æ€»æ¦œ** å‰ 10å\n" +
                "\n\n" +
                "* `" + cmdSet + "  è§¦å‘è¯ xxx` æ”¯æŒè‡ªå®šä¹‰è§¦å‘è¯å’¯, xxxä¸ºè‹±æ–‡æ•°å­—æˆ–ä¸­æ–‡å­—ç¬¦[1,3]ä¸ª, æ¯æ¬¡ä¿®æ”¹æ¶ˆè€—66ä¸ª`é±¼ç¿…`, è§¦å‘è¯ä¸“å±ä½ è‡ªå·±å“¦~\n" +
                "* `" + cmdSet + "  æŠ¥æ—¶` çœ‹çœ‹èŠ‚å‡æ—¥, ä¸ç”¨è¿”å›ä¸»é¡µå•¦. æŠ„çš„é˜¿è¾¾çš„ä»£ç . å˜»å˜»~\n" +
                "* `" + cmdSet + "  çœ‹å¸–` ä¸çŸ¥é“å¹²ä»€ä¹ˆçš„è¯,å°±æ¥çœ‹å¸–å­å§. éšæœºç»™ä½ ä¸€ä¸ªé±¼æ’å¸–å­ç…ç…~\n" +
                "* `" + cmdSet + "  åŒå­åº§` æŸ¥è¯¢æ˜Ÿåº§ä»Šæ—¥è¿åŠ¿, è¯•è¯•çœ‹å§~(ä»…æ”¯æŒä¸­æ–‡å…¨ç§°)\n" +
                "* `" + cmdSet + "  ä¿¡æ¯` æŸ¥è¯¢å½“å‰ä¸ªäººä¿¡æ¯(åŠ å…¥é±¼æ’æ—¶é—´/åœ¨çº¿æ—¶é•¿/ç§¯åˆ†æ•°/æ‰€åœ¨ä½ç½®åŠå¤©æ°”)?\n" +
                "* `" + cmdSet + "  å¤©æ°”` æŸ¥è¯¢å½“å‰ä¸ªäººæ‰€åœ¨ä½ç½®å¤©æ°”(åŸºäºä½ çš„å…¬å¼€ä½ç½®, ä½ éšè—çš„è¯...å“¼ğŸ˜’)\n" +
                "* `" + cmdSet + "  å»æ‰“åŠ«` è¯•è¯•çœ‹ä½ çš„è„¸ç™½ä¹ˆ?\n" +
                "* `" + cmdSet + "  ç¬‘è¯` è®²ä¸ªç¬‘è¯? è™½ç„¶æˆ‘ä¸çŸ¥é“å¥½ä¸å¥½ç¬‘\n" +
                "* `" + cmdSet + "  èƒŒåŒ…` æŸ¥è¯¢æ‚¨çš„`é±¼ä¸¸`ä¸`é±¼ç¿…`æ•°é‡. \n" +
                "* `" + cmdSet + "  å½“å‰æ´»è·ƒåº¦/æ´»è·ƒåº¦/æ´»è·ƒ` æŸ¥è¯¢æ‚¨çš„å½“å‰æ´»è·ƒåº¦(æ´»è·ƒåº¦è®¡ç®—åŸºäºæ‚¨åœ¨èŠå¤©å®¤çš„å‘è¨€,æ— æ³•æ„ŸçŸ¥å…¶ä½™æ“ä½œ, ä¸€å®šæœ‰è¯¯å·®åˆ‡è«è¾ƒçœŸ) \n" +
                "* `" + cmdSet + "  è¿åŠ¿/ä»Šæ—¥è¿åŠ¿` æŸ¥è¯¢ä»Šæ—¥è¿åŠ¿. ç¨‹åºå‘˜åªç›¸ä¿¡ç¨‹åºç”Ÿæˆçš„é»„å†.æ¥çœ‹çœ‹å§~ \n" +
                "* `" + cmdSet + "  æ‘¸é±¼å†/æ‘¸é±¼/æ—¥å†/é±¼å†` æ‘¸é±¼æ—¥å†, çœ‹çœ‹å›¾ä¸€ä¹~ \n" +
                "* `" + cmdSet + "  æé±¼ä¸¸` æ¯å¤©ä¸­åˆ11:30, ä¸‹åˆ17:30 é±¼æ’ä¸Šç©ºå‡†æ—¶å‡ºç°é±¼ä¸¸é›¨.æ‰€æœ‰æ¸”æ°‘å¯ä»¥ä½¿ç”¨`æé±¼ä¸¸`å‘½ä»¤è·å¾—éšæœº[0,10]ä¸ª`é±¼ä¸¸`, é™æ—¶ä¸€åˆ†é’Ÿ.~ \n" +
                "* `" + cmdSet + "  èµ é€é±¼ç¿… username_xxx` å¯ä»¥ç›¸äº’èµ é€å’¯.`username`æ˜¯å¯¹æ–¹ç”¨æˆ·å.`xxx`æ˜¯æ•°é‡ä¹±å†™/ä¸å†™éƒ½æ˜¯é»˜è®¤1. é¢„è®¡å¢åŠ å°å†°å¥½æ„Ÿåº¦æ¯”ä¾‹ 1:10~ \n" +
                "* `" + cmdSet + "  èµ é€é±¼ä¸¸ username_xxx` å¯ä»¥ç›¸äº’èµ é€å’¯.`username`æ˜¯å¯¹æ–¹ç”¨æˆ·å.`xxx`æ˜¯æ•°é‡ä¹±å†™/ä¸å†™éƒ½æ˜¯é»˜è®¤1. é¢„è®¡å¢åŠ å°å†°å¥½æ„Ÿåº¦æ¯”ä¾‹ 1:1~ \n" +
                "* `" + cmdSet + "  V50` ç–¯ç‹‚æ˜ŸæœŸå››, å†²é¸­~ (æ„Ÿè°¢è€ç‹(å·«æ˜‚)å‘èµ·æ´»åŠ¨, æ„Ÿè°¢ç‹æ€»(wuang)èµåŠ©!).~ \n" +
                "* `" + cmdSet + "  å†³æ–—/å¯¹çº¿` ç²¾çµå‘é€çŒœæ‹³çº¢åŒ…, è¯•è¯•ä½ çš„æ‰‹æ°”(å†³æ–—ä¼šå†™ä½ çš„åå­—, å¯¹çº¿ä¸ä¼š~~å¬è¯´å°æ™ºæ˜¯èµŒç‹?~~).~ \n" +
                "* `" + cmdSet + "  15` æˆ– `" + cmdSet + " ä»Šæ—¥æ°´åˆ†` çœ‹çœ‹ä½ ä»Šå¤©æ°´äº†å¤šå°‘æ¡.~ \n" +
                "* `" + cmdSet + "  æ¢è·¯è€…` çœ‹çœ‹[è¿·å®«æ¸¸æˆ](https://maze.hancel.org/)æ’è¡Œæ¦œ. æš´å¤šç§¯åˆ†ç­‰ä½ æ¥æ‹¿~ \n" +
                "*  æ¯å¤© 9,10,15,16 ç‚¹çš„åŠç‚¹, ç²¾çµå‘é€çŒœæ‹³çº¢åŒ…(64ç§¯åˆ†) å…¨å‘˜å¯æŠ¢, è¯•è¯•æ‰‹æ°”å§~ \n" +
                "</details>" +
                "è¿™ä¸æ˜¯ AI, è¿™æ˜¯ä¸ªåŒ¹é…è§„åˆ™. åˆ‡å‹¿è¾ƒçœŸå“¦~\n");
    }
}
